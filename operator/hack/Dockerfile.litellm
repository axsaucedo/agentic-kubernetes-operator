FROM python:3.12-slim

# Avoid .pyc, enable unbuffered logs
ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1

WORKDIR /app

# Install LiteLLM proxy deps with pinned version
RUN pip install --no-cache-dir "litellm[proxy]==1.56.5"

# Port 8000 to match operator controller expectations
EXPOSE 8000

# Use ENTRYPOINT only - let the operator provide the args via deployment spec
ENTRYPOINT ["litellm"]
